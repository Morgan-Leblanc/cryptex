@import "tailwindcss";

@theme {
  --font-display: "Cinzel", serif;
  --font-body: "EB Garamond", serif;
  --font-runes: "Noto Sans Symbols 2", sans-serif;
  
  /* Palette Indiana Jones - Tons terre, parchemin, or antique */
  --color-parchment-50: #faf6f0;
  --color-parchment-100: #f5ede0;
  --color-parchment-200: #ebe0c9;
  --color-parchment-300: #ddd0ac;
  --color-parchment-400: #c9b88a;
  --color-parchment-500: #b5a068;
  
  --color-leather-600: #8b4513;
  --color-leather-700: #723a10;
  --color-leather-800: #5c2e0d;
  --color-leather-900: #3d1f08;
  
  --color-gold-400: #d4af37;
  --color-gold-500: #c9a227;
  --color-gold-600: #b8860b;
  --color-gold-700: #996515;
  
  --color-bronze-500: #cd7f32;
  --color-bronze-600: #b87333;
  
  --color-stone-temple: #2a2418;
  --color-stone-dark: #1a1612;
  --color-stone-shadow: #0f0d0a;
  
  --color-torch-orange: #ff6b35;
  --color-torch-yellow: #ffc107;
  
  --color-ancient-bg: #0d0a08;
  --color-ancient-surface: #1a1510;
  --color-ancient-border: #3d2e1f;
  --color-ancient-text: #e8dcc8;
  --color-ancient-muted: #8b7355;
}

/* Polices aventurières */
@font-face {
  font-family: 'Cinzel';
  src: url('https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-tbnfY3lCA.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Cinzel';
  src: url('https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-jTgfY3lCA.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'EB Garamond';
  src: url('https://fonts.gstatic.com/s/ebgaramond/v27/SlGDmQSNjdsmc35JDF1K5E55YMjF_7DPuGi-6_RkC49_Sz-tFQ.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'EB Garamond';
  src: url('https://fonts.gstatic.com/s/ebgaramond/v27/SlGDmQSNjdsmc35JDF1K5E55YMjF_7DPuGi-6_RkBI5_Sz-tFQ.woff2') format('woff2');
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html {
  height: 100%;
  height: -webkit-fill-available;
}

body {
  min-height: 100%;
  min-height: 100dvh;
  min-height: -webkit-fill-available;
  margin: 0;
  padding: 0;
  font-family: var(--font-body);
  font-size: 16px;
  letter-spacing: 0.02em;
  background: var(--color-stone-shadow);
  color: var(--color-parchment-100);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#root {
  min-height: 100%;
  min-height: 100dvh;
  min-height: -webkit-fill-available;
}

body {
  overscroll-behavior-y: contain;
}

/* ============================================
   TEXTURES & BACKGROUNDS
   ============================================ */

/* Texture de pierre */
.bg-stone-texture {
  background-color: var(--color-stone-dark);
  background-image: 
    radial-gradient(ellipse at 20% 30%, rgba(139, 115, 85, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 70%, rgba(139, 115, 85, 0.05) 0%, transparent 50%),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
}

/* Texture de parchemin */
.bg-parchment {
  background: linear-gradient(
    135deg,
    #f5ede0 0%,
    #ebe0c9 25%,
    #f0e6d2 50%,
    #e8dbc5 75%,
    #f2eade 100%
  );
  background-size: 400% 400%;
  animation: parchment-shift 20s ease infinite;
}

@keyframes parchment-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Bordure de parchemin brûlé */
.parchment-edge {
  position: relative;
}

.parchment-edge::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 2px;
  background: linear-gradient(135deg, #8b4513 0%, #3d1f08 50%, #8b4513 100%);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

/* ============================================
   EFFETS DE LUMIÈRE TORCHE
   ============================================ */

.torch-glow {
  position: relative;
}

.torch-glow::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    ellipse at 50% 30%,
    rgba(255, 107, 53, 0.12) 0%,
    rgba(255, 193, 7, 0.06) 30%,
    transparent 60%
  );
  pointer-events: none;
  animation: torch-flicker 4s ease-in-out infinite;
}

@keyframes torch-flicker {
  0%, 100% { opacity: 1; transform: scale(1); }
  25% { opacity: 0.85; transform: scale(0.98); }
  50% { opacity: 0.95; transform: scale(1.02); }
  75% { opacity: 0.9; transform: scale(0.99); }
}

/* ============================================
   ANIMATIONS AVENTURE
   ============================================ */

@keyframes glow-pulse {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3),
                0 0 40px rgba(212, 175, 55, 0.15),
                inset 0 0 20px rgba(212, 175, 55, 0.1);
  }
  50% { 
    box-shadow: 0 0 40px rgba(212, 175, 55, 0.5),
                0 0 80px rgba(212, 175, 55, 0.25),
                inset 0 0 30px rgba(212, 175, 55, 0.15);
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  25% { transform: translateY(-5px) rotate(0.5deg); }
  50% { transform: translateY(-8px) rotate(0deg); }
  75% { transform: translateY(-3px) rotate(-0.5deg); }
}

@keyframes dust-float {
  0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
  10% { opacity: 0.6; }
  90% { opacity: 0.6; }
  100% { transform: translateY(-100px) translateX(30px) rotate(180deg); opacity: 0; }
}

@keyframes compass-spin {
  0% { transform: rotate(0deg); }
  10% { transform: rotate(15deg); }
  20% { transform: rotate(-10deg); }
  30% { transform: rotate(5deg); }
  40% { transform: rotate(-3deg); }
  50%, 100% { transform: rotate(0deg); }
}

.cryptex-glow {
  animation: glow-pulse 3s ease-in-out infinite;
}

.float-gentle {
  animation: float 6s ease-in-out infinite;
}

/* ============================================
   SYMBOLES MYSTÉRIEUX
   ============================================ */

.rune-pattern {
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23d4af3710' stroke-width='1'%3E%3Cpath d='M30 5 L30 25 M20 15 L40 15'/%3E%3Ccircle cx='30' cy='30' r='8'/%3E%3Cpath d='M30 35 L30 55 M22 45 L38 45'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 60px 60px;
}

.hieroglyph-border {
  border-image: repeating-linear-gradient(
    90deg,
    #d4af37 0px,
    #d4af37 10px,
    transparent 10px,
    transparent 15px,
    #b8860b 15px,
    #b8860b 25px,
    transparent 25px,
    transparent 30px
  ) 1;
}

/* ============================================
   COMPOSANTS UI
   ============================================ */

/* Bouton aventurier */
.btn-adventure {
  position: relative;
  padding: 0.875rem 2rem;
  font-family: var(--font-display);
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: #1a1612;
  background: linear-gradient(180deg, #d4af37 0%, #b8860b 50%, #996515 100%);
  border: 2px solid #b8860b;
  border-radius: 4px;
  box-shadow: 
    0 4px 0 #5c2e0d,
    0 6px 20px rgba(0, 0, 0, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
  cursor: pointer;
  transition: all 0.15s ease;
}

.btn-adventure:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 0 #5c2e0d,
    0 8px 25px rgba(0, 0, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

.btn-adventure:active {
  transform: translateY(2px);
  box-shadow: 
    0 2px 0 #5c2e0d,
    0 4px 15px rgba(0, 0, 0, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.1);
}

/* Carte/panneau style parchemin */
.card-parchment {
  background: linear-gradient(135deg, #2a2418 0%, #1a1612 100%);
  border: 1px solid #3d2e1f;
  border-radius: 8px;
  box-shadow: 
    0 10px 40px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(212, 175, 55, 0.1);
}

/* Input style ancien */
.input-ancient {
  background: rgba(26, 22, 18, 0.9);
  border: 2px solid #3d2e1f;
  border-radius: 6px;
  padding: 0.75rem 1rem;
  color: #e8dcc8;
  font-family: var(--font-body);
  font-size: 1.125rem;
  letter-spacing: 0.05em;
  transition: all 0.3s ease;
}

.input-ancient:focus {
  outline: none;
  border-color: #d4af37;
  box-shadow: 
    0 0 0 3px rgba(212, 175, 55, 0.2),
    0 0 20px rgba(212, 175, 55, 0.1);
}

/* ============================================
   CRYPTEX AMÉLIORÉ
   ============================================ */

.cryptex-container {
  position: relative;
  perspective: 1000px;
}

.cryptex-wheel {
  background: linear-gradient(
    180deg,
    #8b4513 0%,
    #5c2e0d 20%,
    #3d1f08 50%,
    #5c2e0d 80%,
    #8b4513 100%
  );
  border: 3px solid #b87333;
  border-radius: 12px;
  box-shadow:
    inset 0 -10px 30px rgba(0, 0, 0, 0.5),
    inset 0 10px 30px rgba(255, 255, 255, 0.05),
    0 8px 30px rgba(0, 0, 0, 0.6),
    0 0 0 1px rgba(212, 175, 55, 0.2);
}

.cryptex-wheel-inner {
  background: radial-gradient(
    ellipse at 50% 30%,
    #2a2418 0%,
    #1a1612 60%,
    #0f0d0a 100%
  );
}

.cryptex-letter {
  font-family: var(--font-display);
  font-weight: 700;
  color: #d4af37;
  text-shadow: 
    0 0 10px rgba(212, 175, 55, 0.5),
    0 2px 4px rgba(0, 0, 0, 0.8);
}

.cryptex-ring {
  background: linear-gradient(
    90deg,
    #5c2e0d 0%,
    #8b4513 10%,
    #cd7f32 50%,
    #8b4513 90%,
    #5c2e0d 100%
  );
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.2),
    inset 0 -2px 4px rgba(0, 0, 0, 0.4);
}

/* ============================================
   SCROLLBAR
   ============================================ */

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-stone-dark);
  border-left: 1px solid var(--color-leather-800);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #8b4513 0%, #5c2e0d 100%);
  border-radius: 4px;
  border: 1px solid #b87333;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #a0522d 0%, #723a10 100%);
}

/* ============================================
   MOBILE
   ============================================ */

@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
  
  .btn-adventure {
    padding: 0.75rem 1.5rem;
    font-size: 0.875rem;
  }
}

@supports (padding: max(0px)) {
  .safe-area-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  .safe-area-top {
    padding-top: max(0.5rem, env(safe-area-inset-top));
  }
}

.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

@media (hover: none) and (pointer: coarse) {
  button, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}
